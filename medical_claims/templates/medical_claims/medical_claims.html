<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Claims Assistant</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <style>
        :root {
            --primary-color: #2563eb;
            --success-color: #059669;
            --warning-color: #d97706;
            --error-color: #dc2626;
            --info-color: #0891b2;
            --dark-color: #1f2937;
            --light-gray: #f8fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Navigation Bar */
        .navbar-custom {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .navbar-brand-logo {
            width: 45px;
            height: 45px;
            background: linear-gradient(45deg, var(--primary-color), var(--info-color));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }

        .navbar-brand-logo i {
            font-size: 1.5rem;
            color: white;
        }

        .navbar-brand {
            font-weight: 700;
            color: var(--dark-color) !important;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .nav-link {
            color: #6b7280 !important;
            font-weight: 500;
            margin-left: 2rem;
            transition: color 0.3s ease;
            font-size: 0.95rem;
        }

        .nav-link:hover {
            color: var(--primary-color) !important;
        }

        .nav-link.active {
            color: var(--primary-color) !important;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        /* Page Container */
        .page {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Landing Page */
        .landing-page {
            min-height: calc(100vh - 70px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem 1rem;
        }

        .landing-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .landing-header h1 {
            color: var(--dark-color);
            font-weight: 700;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .landing-header p {
            color: #6b7280;
            font-size: 1.1rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            width: 100%;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
            border-color: var(--primary-color);
        }

        .feature-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(45deg, var(--primary-color), var(--info-color));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .feature-icon i {
            font-size: 2rem;
            color: white;
        }

        .feature-card h3 {
            color: var(--dark-color);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            color: #6b7280;
            font-size: 0.95rem;
            margin: 0;
        }

        /* Dashboard Page */
        .dashboard-container {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            color: var(--dark-color);
            font-weight: 700;
            font-size: 1.8rem;
            margin-bottom: 2rem;
        }

        .upload-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .drag-drop-area {
            border: 2px dashed var(--primary-color);
            border-radius: 12px;
            padding: 3rem 2rem;
            text-align: center;
            background: rgba(37, 99, 235, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .drag-drop-area:hover {
            border-color: var(--info-color);
            background: rgba(8, 145, 178, 0.1);
            transform: translateY(-2px);
        }

        .drag-drop-area.dragover {
            border-color: var(--success-color);
            background: rgba(5, 150, 105, 0.1);
            transform: scale(1.02);
        }

        .file-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 0.75rem;
        }

        .file-list {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-radius: 10px;
            margin-bottom: 0.75rem;
            background: #f8fafc;
            transition: all 0.3s ease;
        }

        .file-item:hover {
            background: rgba(37, 99, 235, 0.05);
            border-color: var(--primary-color);
        }

        .file-item-info {
            flex: 1;
        }

        .file-item-name {
            color: var(--dark-color);
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .file-item-meta {
            color: #6b7280;
            font-size: 0.875rem;
        }

        .file-item-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-sm {
            padding: 0.375rem 0.75rem;
            font-size: 0.875rem;
            border-radius: 8px;
        }

        .uploads-table {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .uploads-table table {
            margin-bottom: 0;
        }

        .uploads-table th {
            color: var(--dark-color);
            font-weight: 600;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
            padding: 1rem;
        }

        .uploads-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            vertical-align: middle;
        }

        .status-badge {
            padding: 0.375rem 0.75rem;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.75rem;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

        .badge-pending {
            background: rgba(217, 119, 6, 0.1);
            color: var(--warning-color);
        }

        .badge-completed {
            background: rgba(5, 150, 105, 0.1);
            color: var(--success-color);
        }

        .badge-error {
            background: rgba(220, 38, 38, 0.1);
            color: var(--error-color);
        }

        .faq-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .faq-item {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .faq-question {
            color: var(--dark-color);
            font-weight: 600;
            margin-bottom: 0.75rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: color 0.3s ease;
        }

        .faq-question:hover {
            color: var(--primary-color);
        }

        .faq-answer {
            color: #6b7280;
            line-height: 1.6;
            display: none;
        }

        .faq-answer.active {
            display: block;
        }

        .faq-toggle {
            color: var(--primary-color);
            font-size: 1.25rem;
            transition: transform 0.3s ease;
        }

        .faq-toggle.active {
            transform: rotate(180deg);
        }

        .about-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .about-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        }

        .about-section h2 {
            color: var(--dark-color);
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .about-section h2 i {
            color: var(--primary-color);
        }

        .about-section p {
            color: #6b7280;
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .agent-description {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .agent-desc-card {
            background: rgba(37, 99, 235, 0.05);
            border: 1px solid rgba(37, 99, 235, 0.2);
            border-radius: 10px;
            padding: 1.5rem;
        }

        .agent-desc-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.75rem;
            font-weight: 600;
        }

        .agent-desc-card p {
            font-size: 0.95rem;
            margin-bottom: 0;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-color), var(--info-color));
            border: none;
            border-radius: 25px;
            padding: 0.75rem 2rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
            color: white;
        }

        .btn-outline-primary {
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .btn-outline-primary:hover {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .alert {
            border-radius: 12px;
            border: none;
            padding: 1rem 1.25rem;
        }

        @media (max-width: 768px) {
            .navbar-brand {
                font-size: 1rem;
            }

            .nav-link {
                margin-left: 1rem;
            }

            .landing-header h1 {
                font-size: 1.75rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .section-title {
                font-size: 1.5rem;
            }
        }

        /* Upload Details Section */
        .upload-details {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
            border: 2px solid rgba(13, 110, 253, 0.2);
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .details-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
            padding-bottom: 1rem;
        }

        .details-header h3 {
            margin: 0;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .detail-item {
            margin-bottom: 1.5rem;
        }

        .detail-item label {
            display: block;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .detail-item p {
            color: #555;
            margin: 0;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.02);
            border-radius: 8px;
            word-break: break-word;
        }

        #detailAnalysis {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        body {
            background-color: #eef2f5;
        }

        .card-ui {
            background: #fff;
            border-radius: 14px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.07);
        }

        .drag-drop-area {
            border: 2px dashed #0d6efd;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            background: #f8fbff;
            transition: .3s;
        }

        .drag-drop-area:hover {
            background: #eaf3ff;
        }

        .agent-card {
            border-left: 5px solid #0d6efd;
            background: white;
            border-radius: 10px;
            padding: 15px;
            transition: 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .agent-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 18px rgba(0,0,0,0.1);
        }

        .response-box {
            height: 100%;
            min-height: 500px;
            background: #f9fbff;
            border-radius: 12px;
            border: 2px solid #dce6f4;
            padding: 20px;
            overflow-y: auto;
        }
         .drag-drop-area {
            border: 2px dashed #0d6efd;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            background-color: #f8f9fa;
        }

        .drag-drop-area.dragover {
            background-color: #e0f0ff;
            border-color: #0a58ca;
        }

        .file-list {
            margin-top: 15px;
        }

        .file-chip {
            background: #eef6ff;
            padding: 8px 12px;
            border-radius: 8px;
            margin-bottom: 6px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar-custom navbar navbar-expand-lg">
        <div class="container-fluid px-4">
            <div class="navbar-brand">
                <div class="navbar-brand-logo">
                    <i class="bi bi-shield-check"></i>
                </div>
                Medical Claims
            </div>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showPage('landing')">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('analysis')">Analysis</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('dashboard')">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('faq')">FAQ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('about')">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Landing Page -->
    <div class="page landing-page active" id="landing" style="display:none;">
        <div class="landing-header">
            <h1>Medical Claims Assistant</h1>
            <p>Intelligent processing and analysis of medical records</p>
        </div>

        <div class="features-grid">
            <div class="feature-card" onclick="showPage('dashboard')">
                <div class="feature-icon">
                    <i class="bi bi-speedometer2"></i>
                </div>
                <h3>Dashboard</h3>
                <p>View processed documents and upload history</p>
            </div>

            <div class="feature-card" onclick="showPage('analysis')">
                <div class="feature-icon">
                    <i class="bi bi-graph-up"></i>
                </div>
                <h3>Analysis</h3>
                <p>Upload and analyze medical documents with AI-powered processing</p>
            </div>

            <div class="feature-card" onclick="showPage('faq')">
                <div class="feature-icon">
                    <i class="bi bi-question-circle"></i>
                </div>
                <h3>FAQ</h3>
                <p>Common questions about document processing and claims</p>
            </div>

            <div class="feature-card" onclick="showPage('about')">
                <div class="feature-icon">
                    <i class="bi bi-info-circle"></i>
                </div>
                <h3>About</h3>
                <p>Learn about our medical processing technology</p>
            </div>
        </div>
    </div>

    <!-- Analysis Page -->
    <div class="page analysis-container" id="analysis" style="display:none;">
        <h2 class="section-title">
            <i class="bi bi-graph-up"></i> Document Analysis
        </h2>



       <div class="container py-5">

    <div class="row g-4">

        <!-- ================= LEFT SIDE (UPLOAD + AGENTS) ================= -->
        <div class="col-lg-5">

            <!-- Upload Card -->
            <div class="card-ui mb-4">
                <h5 class="mb-3">
                    <i class="bi bi-cloud-upload text-primary me-2"></i> Upload Documents
                </h5>

                <div class="drag-drop-area" id="dragDropArea">
        <i class="bi bi-file-earmark-arrow-up" style="font-size:40px;color:#0d6efd;"></i>
        <h6 class="mt-2">Drag & Drop</h6>
        <small class="text-muted">Click to browse files</small>
        <input type="file" id="fileInput" multiple hidden>
    </div>

    <div id="fileList" class="file-list"></div>

                <div class="mt-3 text-center">
                    <button class="btn btn-primary btn-sm me-2" disabled id="processBtn">
                        <i class="bi bi-play-fill"></i> Process
                    </button>
                    <button class="btn btn-outline-secondary btn-sm" id="clearBtn">
                        <i class="bi bi-trash"></i> Clear
                    </button>
                </div>
            </div>

            <!-- Agents Card -->
            <div class="card-ui">
                <h5 class="mb-3">
                    <i class="bi bi-robot text-success me-2"></i> AI Agents
                </h5>

                <div class="row g-3">
                    <div class="col-12">
                        <div class="agent-card">
                            <strong><i class="bi bi-heart-pulse me-2 text-danger"></i>Medical Record Analyzer</strong>
                        </div>
                    </div>

                    <div class="col-12">
                        <div class="agent-card">
                            <strong><i class="bi bi-clipboard2-pulse me-2 text-warning"></i>Injury Classifier</strong>
                        </div>
                    </div>

                    <div class="col-12">
                        <div class="agent-card">
                            <strong><i class="bi bi-shield-exclamation me-2 text-danger"></i>Fraud Detector</strong>
                        </div>
                    </div>

                    <div class="col-12">
                        <div class="agent-card">
                            <strong><i class="bi bi-check2-circle me-2 text-success"></i>Report Quality Evaluator</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ================= RIGHT SIDE (LARGE RESPONSE PANEL) ================= -->
        <div class="col-lg-7">
            <div class="card-ui h-100">
                <h5 class="mb-3">
                    <i class="bi bi-chat-square-text text-primary me-2"></i> Response Output
                </h5>

                <div class="response-box" id="responseBox">
                    <p class="text-muted text-center">üß† Processed results will appear here...</p>
                </div>
            </div>
        </div>

    </div>
</div>

    </div>

    <!-- Dashboard Page -->
    <div class="page dashboard-container" id="dashboard" style="display:none;">
        <h2 class="section-title">
            <i class="bi bi-speedometer2"></i> Dashboard
        </h2>

        <!-- Uploads History -->
        <div class="uploads-table">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h4>Upload History</h4>
                <button class="btn btn-sm btn-outline-primary" onclick="refreshUploads()">
                    <i class="bi bi-arrow-clockwise me-1"></i>
                    Refresh
                </button>
            </div>

            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Filename</th>
                            <th>Upload Date</th>
                            <th>Status</th>
                            <th>Summary</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="uploadsTableBody">
                        <tr>
                            <td colspan="6" class="text-center text-muted">No uploads yet</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Upload Details Section -->
        <div class="upload-details" id="uploadDetails" style="display: none;">
            <div class="details-header">
                <h3>
                    <i class="bi bi-file-earmark-text"></i> Upload Details
                </h3>
                <button class="btn btn-sm btn-outline-secondary" onclick="closeDetails()">
                    <i class="bi bi-x-lg"></i> Close
                </button>
            </div>

            <div class="details-content">
                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-item">
                            <label><strong>Filename:</strong></label>
                            <p id="detailFilename">-</p>
                        </div>
                        <div class="detail-item">
                            <label><strong>Upload Date:</strong></label>
                            <p id="detailDate">-</p>
                        </div>
                        <div class="detail-item">
                            <label><strong>File Size:</strong></label>
                            <p id="detailFileSize">-</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-item">
                            <label><strong>Status:</strong></label>
                            <p id="detailStatus">-</p>
                        </div>
                        <div class="detail-item">
                            <label><strong>Processing Time:</strong></label>
                            <p id="detailProcessingTime">-</p>
                        </div>
                    </div>
                </div>

                <div class="detail-item">
                    <label><strong>Summary:</strong></label>
                    <p id="detailSummary">-</p>
                </div>

                <div class="detail-item">
                    <label><strong>Full Analysis:</strong></label>
                    <pre id="detailAnalysis" class="bg-light p-3 rounded" style="max-height: 300px; overflow-y: auto;">-</pre>
                </div>

                <div class="detail-item" id="errorItemDetail" style="display: none;">
                    <label><strong>Error Message:</strong></label>
                    <p id="detailError" class="text-danger">-</p>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Page -->
    <div class="page faq-container" id="faq" style="display:none;">
        <h2 class="section-title mb-4">
            <i class="bi bi-question-circle"></i> Frequently Asked Questions
        </h2>

        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                <span>What document formats are supported?</span>
                <i class="bi bi-chevron-down faq-toggle"></i>
            </div>
            <div class="faq-answer">
                We support the following formats: Word documents (DOCX, DOC), PDF files, and images (PNG, JPG, JPEG). Maximum file size is 10MB per document.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                <span>How is ICD-10/ICD-8 classification performed?</span>
                <i class="bi bi-chevron-down faq-toggle"></i>
            </div>
            <div class="faq-answer">
                Our system uses AI-powered analysis to automatically classify injuries and medical conditions using both ICD-10 (current) and ICD-8 (historical) coding standards. The Injury Classifier agent examines medical records and assigns appropriate codes based on documented diagnoses.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                <span>What security measures protect my data?</span>
                <i class="bi bi-chevron-down faq-toggle"></i>
            </div>
            <div class="faq-answer">
                All documents are processed securely using Azure Document Intelligence and encrypted communication channels. Data is stored in encrypted databases and access is restricted to authorized users only. We comply with healthcare data protection regulations.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                <span>How are reserve amounts calculated?</span>
                <i class="bi bi-chevron-down faq-toggle"></i>
            </div>
            <div class="faq-answer">
                The Reserve Estimator analyzes injury severity, treatment costs, and historical data to propose initial reserves. The Statistical Reserve Analyst then applies historical patterns and predictive models to set accurate reserves that account for future claim developments.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                <span>How is fraud detection performed?</span>
                <i class="bi bi-chevron-down faq-toggle"></i>
            </div>
            <div class="faq-answer">
                Our Fraud Detector analyzes medical records for inconsistencies, unusual patterns, and red flags. It examines treatment sequences, medical billing patterns, and cross-references with known fraud indicators to identify suspicious claims.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                <span>What quality metrics are evaluated?</span>
                <i class="bi bi-chevron-down faq-toggle"></i>
            </div>
            <div class="faq-answer">
                The Report Quality Evaluator assesses medical reports for completeness, consistency, accuracy, and clinical relevance. It identifies missing information, contradictions, and quality issues that may impact claims processing.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                <span>How long does processing take?</span>
                <i class="bi bi-chevron-down faq-toggle"></i>
            </div>
            <div class="faq-answer">
                Processing time depends on document length and complexity. Most documents are processed within 30-60 seconds. Complex medical records with multiple agents may take up to 5 minutes for comprehensive analysis.
            </div>
        </div>
    </div>

    <!-- About Page -->
    <div class="page about-container" id="about" style="display:none;">
        <h2 class="section-title mb-4">
            <i class="bi bi-info-circle"></i> About Medical Claims Assistant
        </h2>

        <div class="about-section">
            <h2><i class="bi bi-gear"></i> System Overview</h2>
            <p>Medical Claims Assistant is an intelligent platform powered by advanced AI and machine learning technologies. It automates the analysis of medical records to streamline claims processing, reduce manual review time, and improve accuracy in claim adjudication.</p>
            <p>The system utilizes six specialized agents, each focusing on a specific aspect of medical record analysis, working together to provide comprehensive claim evaluation.</p>
        </div>

        <div class="about-section">
            <h2><i class="bi bi-person-check"></i> Specialized Agents</h2>
            <div class="agent-description">
                <div class="agent-desc-card">
                    <h4>Medical Record Analyzer</h4>
                    <p>Extracts and structures clinical data including diagnoses, treatments, procedures, medications, and clinical history from medical documents.</p>
                </div>
                <div class="agent-desc-card">
                    <h4>Injury Classifier</h4>
                    <p>Classifies injuries and medical conditions using ICD-10 and ICD-8 coding standards, ensuring consistent and accurate medical coding.</p>
                </div>
                <div class="agent-desc-card">
                    <h4>Reserve Estimator</h4>
                    <p>Proposes initial reserve amounts and estimates total claim costs based on injury severity, treatment requirements, and industry standards.</p>
                </div>
                <div class="agent-desc-card">
                    <h4>Statistical Reserve Analyst</h4>
                    <p>Sets accurate reserves using statistical models and historical claim data patterns, optimizing reserve accuracy over time.</p>
                </div>
                <div class="agent-desc-card">
                    <h4>Fraud Detector</h4>
                    <p>Identifies suspicious patterns, inconsistencies, and red flags that may indicate fraudulent claims or inflated damages.</p>
                </div>
                <div class="agent-desc-card">
                    <h4>Report Quality Evaluator</h4>
                    <p>Assesses medical report completeness, consistency, and accuracy, identifying gaps that may impact claims processing decisions.</p>
                </div>
            </div>
        </div>

        <div class="about-section">
            <h2><i class="bi bi-lightning"></i> Technology Stack</h2>
            <p><strong>AI & Machine Learning:</strong> Google Generative AI with Azure OpenAI backend (GPT-4.1-mini)</p>
            <p><strong>Document Processing:</strong> Azure Document Intelligence for OCR and document analysis</p>
            <p><strong>Backend:</strong> FastAPI with async processing capabilities</p>
            <p><strong>Frontend:</strong> Bootstrap 5 responsive design framework</p>
            <p><strong>Database:</strong> SQLite for upload tracking and PostgreSQL for operational data</p>
        </div>

        <div class="about-section">
            <h2><i class="bi bi-envelope"></i> Support & Contact</h2>
            <p>For questions, support, or feedback regarding Medical Claims Assistant, please contact our support team.</p>
            <p>Email: <strong>support@medicalclaims.local</strong></p>
            <p>Documentation: Available in the system help menu</p>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>
<script>

    const fileInput = document.getElementById("fileInput");
    const processBtn = document.getElementById("processBtn");
    const statusDiv = document.getElementById("status");
    const fileList = document.getElementById("fileList");
    const dragArea = document.getElementById("dragDropArea");

    // CLICK to open file dialog
    dragArea.addEventListener("click", () => fileInput.click());

    // When user selects files normally
    fileInput.addEventListener("change", (event) => {
        showFiles(event.target.files);
    });

    let uploadedFiles = [];


    // ======= Convert file to Base64 =======
    const convertToBase64 = (file) => {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = () => resolve(reader.result.split(",")[1]);
            reader.onerror = reject;
            reader.readAsDataURL(file);
        });
    };

    // ======= Send file to Azure API =======
    const sendToAzureAPI = async (base64Data, fileName) => {
        const payload = {
            filename: fileName,
            file_content: base64Data
        };

        const response = await fetch(
            "https://func-medical-claims-assistant-fydjc9gteqewfght.centralindia-01.azurewebsites.net/api/report_quality_evaluator",
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            }
        );

        return response.json();
    };

    // ======= Process button clicked =======
    processBtn.addEventListener("click", async () => {
        processBtn.disabled = true;
        statusDiv.innerHTML = `<p> Starting processing...</p>`;

        for (let i = 0; i < uploadedFiles.length; i++) {
            const file = uploadedFiles[i];
            statusDiv.innerHTML += `<p>‚è≥ Processing <b>${file.name}</b> (${i+1}/${uploadedFiles.length})...</p>`;

            // Convert file to base64
            const base64 = await convertToBase64(file);

            // Send to Azure API
            try {
                const result = await sendToAzureAPI(base64, file.name);
                statusDiv.innerHTML += `<p style="color:green;"> Completed: ${file.name}<br>Response: ${JSON.stringify(result)}</p>`;
            } catch (error) {
                statusDiv.innerHTML += `<p style="color:red;"> Failed: ${file.name} <br>Error: ${error.message}</p>`;
            }
        }

        statusDiv.innerHTML += `<h5> All files processed successfully!</h5>`;
        processBtn.disabled = false;
    });



    function showPage(pageId) {
        // Hide all pages
        document.querySelectorAll('.page').forEach(page => {
            page.style.display = 'none';
            page.classList.remove('active');
        });

        // Show selected page
        const targetPage = document.getElementById(pageId);
        if (targetPage) {
            targetPage.style.display = 'block';
            targetPage.classList.add('active');
        }

        // Update active nav link highlight
        document.querySelectorAll('.nav-link').forEach(link => {
            link.classList.remove('active');
        });

        const activeLink = [...document.querySelectorAll('.nav-link')]
            .find(link => link.getAttribute('onclick')?.includes(pageId));

        if (activeLink) {
            activeLink.classList.add('active');
        }
    }

    // Show landing page first
    showPage('landing');




    // Drag Over effect
    dragArea.addEventListener("dragover", (e) => {
        e.preventDefault();
        dragArea.classList.add("dragover");
    });

    dragArea.addEventListener("dragleave", () => {
        dragArea.classList.remove("dragover");
    });

    // On drop files
    dragArea.addEventListener("drop", (e) => {
        e.preventDefault();
        dragArea.classList.remove("dragover");
        showFiles(e.dataTransfer.files);
    });

    // Display selected file names
    function showFiles(files) {
        fileList.innerHTML = "";
        [...files].forEach(file => {
            fileList.innerHTML += `<div class="file-chip"><i class="bi bi-file-earmark-text"></i> ${file.name}</div>`;
        });
    }
</script>

